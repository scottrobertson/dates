%br
= table_for @dates, table_html: { class: 'table table-hover table-bordered' }, sortable: true do |table|
  = table.column :title
  = table.column :date, data: -> { table.current_row.date.to_s(:rfc822) }, header: 'Start Date'
  = table.column :end_date, data: -> { table.current_row.end_date ? table.current_row.end_date.to_s(:rfc822) : '-' }, header: 'End Date'
  = table.column data: -> { component_date table.current_row.date }, header: 'Duration', sortable: false

= form_for @date, url: { action: 'create' }, html: { class: 'form well' } do |f|
  .form-group
    = f.label 'Event'
    = f.text_field :title, class: 'form-control'
  .form-group
    = f.label 'Start Date'
    = f.date_field :date, class: 'form-control'
  .form-group
    = f.label 'End Date'
    = f.date_field :end_date, class: 'form-control'
  .form-group
    = f.submit 'Create', class: 'btn btn-primary'
